import React, { useState } from 'react';

export default function Index() {
  const [formData, setFormData] = useState({ url: '', email: '' });
  const [status, setStatus] = useState(null);

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    fetch('/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
      body: new URLSearchParams({ 
        'form-name': 'accessibility-audit', 
        ...formData 
      } as any).toString(),
    }).then(() => setStatus('success'));
  };

  return (
    <div style={{ backgroundColor: '#121212', minHeight: '100vh', color: 'white', fontFamily: 'sans-serif', textAlign: 'center', paddingTop: '80px', paddingLeft: '20px', paddingRight: '20px' }}>
      <nav style={{ marginBottom: '60px' }}>
        <div style={{ fontSize: '24px', fontWeight: 'bold' }}>
          Simply<span style={{ color: '#D4AF37' }}>Accessible</span>
        </div>
      </nav>

      <h1 style={{ fontSize: '3.5rem', fontWeight: 'bold', marginBottom: '20px', lineHeight: '1.1' }}>
        Make the web work for <span style={{ color: '#D4AF37' }}>everyone.</span>
      </h1>
      
      {status === 'success' ? (
        <div style={{ border: '1px solid #D4AF37', padding: '30px', borderRadius: '12px', background: '#1a1a1a', display: 'inline-block' }}>
          <h3 style={{ color: '#D4AF37', fontSize: '1.5rem' }}>Audit Requested!</h3>
          <p>Scanning {formData.url}. Check your inbox shortly.</p>
        </div>
      ) : (
        <div style={{ backgroundColor: '#1a1a1a', padding: '30px', borderRadius: '15px', border: '1px solid #333', maxWidth: '400px', margin: '0 auto' }}>
          <h2 style={{ marginBottom: '20px', fontSize: '1.2rem' }}>Get Your Free Audit</h2>
          <form name="accessibility-audit" method="POST" data-netlify="true" onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>
            <input type="hidden" name="form-name" value="accessibility-audit" />
            <input type="url" name="url" placeholder="Website URL" required onChange={(e) => setFormData({...formData, url: e.target.value})} style={{ padding: '12px', borderRadius: '8px', border: '1px solid #444', background: '#222', color: 'white' }} />
            <input type="email" name="email" placeholder="Business Email" required onChange={(e) => setFormData({...formData, email: e.target.value})} style={{ padding: '12px', borderRadius: '8px', border: '1px solid #444', background: '#222', color: 'white' }} />
            <button type="submit" style={{ backgroundColor: '#D4AF37', color: 'black', fontWeight: 'bold', padding: '15px', border: 'none', borderRadius: '8px', cursor: 'pointer' }}>Start Free Audit</button>
          </form>
        </div>
      )}
    </div>
  );
}
